# Физическая модель данных

Физическая модель данных представлена на рисунке ниже.

![Рисунок 7.2](/img/ris7_2.png)

### Описание таблиц:

1. **users** (Пользователи)  
   - `id` — Уникальный идентификатор пользователя (сотрудника)  
   - `name` — Имя  
   - `second_name` — Фамилия  
   - `third_name` — Отчество (может быть NULL)  
   - `email` — Корпоративная почта (уникальная)  
   **Смысл:** учётные данные сотрудников, которые могут бронировать места.

2. **roles** (Роли)  
   - `role_id` — Уникальный ID роли (например, 1 — администратор, 2 — сотрудник)  
   - `role_name` — Название роли  
   **Смысл:** определяет права доступа (например, администратор может редактировать офисы).

3. **offices** (Офисы)  
   - `office_id` — Уникальный ID офиса  
   - `addres` (опечатка, должно быть `address`) — Физический адрес офиса  
   **Смысл:** локации компании, где есть рабочие места.

4. **workplace_type** (Типы рабочих мест)  
   - `type_id` — Уникальный ID типа (например, "DESK", "MEETING_ROOM")  
   - `type_name` — Название (например, "Рабочий стол", "Переговорка")  
   **Смысл:** классификация мест (столы, переговорки, парковки).

5. **reservation_statuses** (Статусы бронирований)  
   - `status_id` — Уникальный ID статуса (например, "CONFIRMED", "CANCELLED")  
   - `status_name` — Название (например, "Подтверждено", "Отменено")  
   **Смысл:** возможные состояния брони (активна, отменена, завершена).

6. **roles_hist** (История ролей пользователей)  
   - `user_id` — ID пользователя (ссылка на `users.id`)  
   - `role_id` — ID роли (ссылка на `roles.role_id`)  
   - `start_date` — Дата назначения роли  
   - `end_date` — Дата окончания роли (NULL, если роль активна)  
   **Смысл:** история изменений ролей (например, повышение до менеджера).

7. **worplaces** (Рабочие места)  
   - `wpl_id` — Уникальный ID места  
   - `office_id` — ID офиса (ссылка на `offices.office_id`)  
   - `wpl_type_id` — ID типа места (ссылка на `workplace_type.type_id`)  
   - `floor` — Этаж, где расположено место  
   - `description` — Дополнительное описание (например, "У окна")  
   **Смысл:** конкретные места для бронирования (столы, переговорки) с привязкой к офисам.

8. **reservations** (Бронирования)  
   - `user_id` — ID пользователя (ссылка на `users.id`)  
   - `wpl_id` — ID рабочего места (ссылка на `worplaces.wpl_id`)  
   - `start_time` — Начало бронирования  
   - `end_time` — Окончание бронирования  
   - `reservation_id` — Уникальный ID брони  
   **Смысл:** записи о том, кто, когда и какое место забронировал.

9. **res_status_hist** (История статусов бронирований)  
   - `reservation_id` — ID брони (ссылка на `reservations.reservation_id`)  
   - `status_id` — ID статуса (ссылка на `reservation_statuses.status_id`)  
   - `start_date` — Дата присвоения статуса  
   - `end_date` — Дата окончания статуса (NULL, если статус актуален)  
   **Смысл:** история изменений статусов брони (например, "активна" → "отменена").
